--- wm.c
+++ wm.c
@@ -153,12 +153,18 @@
 	if (!title) XFetchName(dpy, focus, &title);
 	XSetErrorHandler(h);
 
+	char bat_str[4]; // 0 - 100
+	int batt = open(BATTERY_LOC, O_RDONLY);
+	read(batt, &bat_str, 3);
+	for (int i = 0; i < 4; i++)
+		if (bat_str[i] < '0' || bat_str[i] > '9') bat_str[i] = 0;
+
 	char status[128];
 	sprintf(status,
-		"%02d:%02d | %02d/%02d/%02d | %d",
+		"%02d:%02d | %02d/%02d/%02d | %s%%",
 		tm->tm_hour, tm->tm_min,
 		tm->tm_mday, tm->tm_mon + 1, tm->tm_year + 1900,
-		tm->tm_yday
+		bat_str
 	);
 	silly_draw_bar(bar, title ? title : "(desk)", status);
 	if (title) XFree(title);
--- config.def.h
+++ config.def.h
@@ -14,6 +14,9 @@
 
 #define MOD_MASK     Mod1Mask
 
+// bar battery patch
+#define BATTERY_LOC  "/sys/class/power_supply/BAT1/capacity"
+
 static char* font_name = "Liberation Mono:pixelsize=12:antialias=true:autohint=true";
 
 static silly_exec launch_apps[] = {
